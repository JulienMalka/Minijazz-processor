main(reset_n) = (rddata:[32], address:[16]) where
(cs_ROM, cs_RAM) = decoder(address);
(write, read, address, wrdata) = CPU(reset_n, rddata);
rddata_ram = RAM_block(cs_RAM, read, write, address[22..31], wrdata);
rddata_rom = ROM_block(cs_ROM, read, address[22..31]);
cs_ROM_reg = reg(cs_ROM);
rddata_sig = muxn<32>(cs_ROM_reg, rddata_ram, rddata_rom);
zero = clone_bit<32>(0);
rddata = muxn<32>(reset_n, rddata_sig, zero);
end where

